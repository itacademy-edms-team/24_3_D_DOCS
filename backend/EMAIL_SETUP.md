# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email –æ—Ç–ø—Ä–∞–≤–∫–∏

## ‚ö†Ô∏è –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

**–í–ê–ñ–ù–û:** –§–∞–π–ª `appsettings.Development.json` –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ Git!

1. **–°–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):
   ```bash
   cp backend/appsettings.Development.json.example backend/appsettings.Development.json
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å email** (—Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∏–∂–µ)

## –î–ª—è Gmail (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 1. –°–æ–∑–¥–∞–Ω–∏–µ App Password

Gmail –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è SMTP. –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å "App Password":

1. **–í–∫–ª—é—á–∏—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞):
   - –ü–µ—Ä–µ–π—Ç–∏: https://myaccount.google.com/security
   - –ù–∞–π—Ç–∏ "2-Step Verification" –∏ –≤–∫–ª—é—á–∏—Ç—å

2. **–°–æ–∑–¥–∞—Ç—å App Password**:
   - –ü–µ—Ä–µ–π—Ç–∏: https://myaccount.google.com/apppasswords
   - –í—ã–±—Ä–∞—Ç—å "Mail" –∏ "Other" (–Ω–∞–ø–∏—à–∏ "Rusal Project")
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π 16-–∑–Ω–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å `appsettings.Development.json`**:
   ```json
   "Email": {
     "EnableEmailSending": true,
     "FromName": "Rusal Project",
     "FromAddress": "—Ç–≤–æ–π-email@gmail.com",
     "SmtpHost": "smtp.gmail.com",
     "SmtpPort": 587,
     "SmtpUsername": "—Ç–≤–æ–π-email@gmail.com",
     "SmtpPassword": "—Ç–≤–æ–π-app-password-16-—Å–∏–º–≤–æ–ª–æ–≤"
   }
   ```

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker**:
   ```bash
   docker compose down
   docker compose up --build -d
   ```

## –î–ª—è Yandex Mail

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Yandex.ru:

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å `appsettings.Development.json`**:
   ```json
   "Email": {
     "EnableEmailSending": true,
     "FromName": "Rusal Project",
     "FromAddress": "—Ç–≤–æ–π-email@yandex.ru",
     "SmtpHost": "smtp.yandex.ru",
     "SmtpPort": 587,
     "SmtpUsername": "—Ç–≤–æ–π-email@yandex.ru",
     "SmtpPassword": "—Ç–≤–æ–π-–ø–∞—Ä–æ–ª—å-–æ—Ç-—è–Ω–¥–µ–∫—Å–∞"
   }
   ```

2. **–í–∫–ª—é—á–∏—Ç—å SMTP –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Yandex**:
   - –ü–µ—Ä–µ–π—Ç–∏: https://mail.yandex.ru/#setup/client
   - –í–∫–ª—é—á–∏—Ç—å "–° –ø–æ—á—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º"

## –î–ª—è Mail.ru

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å `appsettings.Development.json`**:
   ```json
   "Email": {
     "EnableEmailSending": true,
     "FromName": "Rusal Project",
     "FromAddress": "—Ç–≤–æ–π-email@mail.ru",
     "SmtpHost": "smtp.mail.ru",
     "SmtpPort": 587,
     "SmtpUsername": "—Ç–≤–æ–π-email@mail.ru",
     "SmtpPassword": "—Ç–≤–æ–π-–ø–∞—Ä–æ–ª—å"
   }
   ```

2. **–í–∫–ª—é—á–∏—Ç—å SMTP –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Mail.ru**:
   - –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—á—Ç—ã
   - –ù–∞–π—Ç–∏ —Ä–∞–∑–¥–µ–ª "–ü–æ—á—Ç–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã"
   - –í–∫–ª—é—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ SMTP

## –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–±–µ–∑ Email)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å email, –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–≤—å `EnableEmailSending: false`. 
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–æ–¥ –±—É–¥–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:

```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å –∫–æ–¥–æ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:
docker compose logs backend --tail 20

# –ò—Å–∫–∞—Ç—å –∫–æ–¥—ã –≤ –ª–æ–≥–∞—Ö:
docker compose logs backend | grep "Code:"
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
3. –í–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–∂–∞—Ç—å "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É - –ø–∏—Å—å–º–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —Å–µ–∫—É–Ω–¥
5. –í–≤–µ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "Failed to send email"
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email/–ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Å—å —á—Ç–æ App Password —Å–æ–∑–¥–∞–Ω (–¥–ª—è Gmail)
- –£–±–µ–¥–∏—Å—å —á—Ç–æ SMTP –¥–æ—Å—Ç—É–ø –≤–∫–ª—é—á–µ–Ω (–¥–ª—è Yandex/Mail.ru)
- –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –ü–∏—Å—å–º–æ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç
- –ü—Ä–æ–≤–µ—Ä—å –ø–∞–ø–∫—É "–°–ø–∞–º"
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker compose logs backend --tail 50`
- –£–±–µ–¥–∏—Å—å —á—Ç–æ `EnableEmailSending: true`

### "Authentication failed"
- –î–ª—è Gmail: –∏—Å–ø–æ–ª—å–∑—É–π App Password, –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å!
- –î–ª—è Yandex/Mail.ru: –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ SMTP –¥–æ—Å—Ç—É–ø –≤–∫–ª—é—á–µ–Ω

